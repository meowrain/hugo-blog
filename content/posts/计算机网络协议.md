---
title: 计算机网络基础知识
subtitle:
date: 2024-05-26T20:41:07+08:00
slug: 297df01
draft: false
description:
keywords:
license: CC
comment: true
weight: 0
tags:
  - 计算机网络协议
  - TCP
  - UDP
  - 网络协议
categories:
  - 计算机网络
hiddenFromHomePage: false
hiddenFromSearch: false
hiddenFromRss: false
hiddenFromRelated: false
summary:
resources:
  - name: featured-image
    src: featured-image.jpg
  - name: featured-image-preview
    src: featured-image-preview.jpg
toc: true
math: true
lightgallery: true
password:
message:
repost:
  enable: false
  url:

# See details front matter: https://fixit.lruihao.cn/documentation/content-management/introduction/#front-matter
---

# 网络模型

## OSI七层网络模型
1. 应用层
2. 表示层
3. 会话层
4. 传输层
5. 网络层
6. 数据链路层
7. 物理层

### 各层传输的数据单元(Protocol Data Unit)
> https://zh.wikipedia.org/wiki/%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83
物理层: 比特流(bit)
数据链路层: 数据帧(frame)
网络层: 数据包(packet)
传输层: `数据段(segment)-->TCP` `数据报(datagram) --> UDP`
应用层: 报文(message)


## TCP/IP网络模型
1. 应用层
2. 传输层
3. 网络层
4. 网络接口层

![](https://static.meowrain.cn/i/2024/05/26/xrskx3-3.webp)

# IP
IP 在 TCP/IP 参考模型中处于第三层，也就是网络层。

网络层的主要作用是：实现主机与主机之间的通信，也叫点对点（end to end）通信。

## IP 地址的基础知识
IP 地址（IPv4 地址）由 `32` 位正整数来表示，IP 地址在计算机是以二进制的方式处理的。
人类为了方便记忆采用了点分十进制的标记方式，也就是将 32 位 IP 地址以每 8 位为组，共分为 4 组，每组以「.」隔开，再将每组转换成十进制。
![](https://static.meowrain.cn/i/2024/05/26/y08bv3-3.webp)

## IP地址分类
A类: 0.0.0.0 ~ 127.255.255.255
B类: 128.0.0.0 ~ 191.255.255.255
C类: 192.0.0.0 ~ 223.255.255.255

A类就是32位里面，第1位是0，后面7位是网络号，剩下的都是主机号(24位)
B类就是32位里面，前2位是10，后面14位为网络号，剩下都是主机号(16位)
C类就是32位里面，前3位是110，后面21位为网络号，剩下都是主机号(8位)

![](https://static.meowrain.cn/i/2024/05/26/ysr249-3.webp)

![](https://static.meowrain.cn/i/2024/05/26/ysxexl-3.webp)

最大主机数计算方法: 
假如主机号位数是n，那么最大主机数就是`2^n - 2`
> 减2是因为在 IP 地址中，有两个 IP 是特殊的，分别是主机号全为 1 和 全为 0 地址。

> 主机号全为 1 指定某个网络下的所有主机，用于广播
> 主机号全为 0 指定某个网络


## 广播地址作用
广播地址作用: 广播地址用于在同一个链路中相互连接的主机之间发送数据包。

## D,E类地址

什么是 D、E 类地址？
而 D 类和 E 类地址是没有主机号的，所以不可用于主机 IP，D 类常被用于多播，E 类是预留的分类，暂时未使用。

![](https://static.meowrain.cn/i/2024/05/26/za98od-3.webp)

## 多播作用
多播用于将包发送给特定组内的所有主机。

## 无分类地址 CIDR
因为 IP 分类存在许多缺点，所以后面提出了无分类地址的方案，即 CIDR。

这种方式不再有分类地址的概念，32 比特的 IP 地址被划分为两部分，前面是网络号，后面是主机号。

> 表示形式 a.b.c.d/x，其中 /x 表示前 x 位属于网络号， x 的范围是 0 ~ 32，这就使得 IP 地址更加具有灵活性。

> 比如 10.100.122.2/24，这种地址表示形式就是 CIDR，/24 表示前 24 位是网络号，剩余的 8 位是主机号。


还有另一种划分网络号与主机号形式，那就是子网掩码，掩码的意思就是掩盖掉主机号，剩余的就是网络号。

![](https://static.meowrain.cn/i/2024/05/26/zd3m1h-3.webp)   

## 子网划分
![](https://static.meowrain.cn/i/2024/05/26/zmma8k-3.webp)

假设对 C 类地址进行子网划分，网络地址 192.168.1.0，使用子网掩码 255.255.255.192 对其进行子网划分。
C 类地址中前 24 位是网络号，最后 8 位是主机号，根据子网掩码可知从 8 位主机号中借用 2 位作为子网号。
![](https://static.meowrain.cn/i/2024/05/26/zobxmy-3.webp)
由于子网网络地址被划分成 2 位，那么子网地址就有 4 个，分别是 00、01、10、11，具体划分如下图：
![](https://static.meowrain.cn/i/2024/05/26/zof17c-3.webp)

划分后的 4 个子网如下表格：
![](https://static.meowrain.cn/i/2024/05/26/zottzb-3.webp)


## IP 地址与路由控制
